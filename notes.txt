Actix-Web Hello World!
- curl -d "Hello Rust" -X POST http://127.0.0.1:8080/echo
- curl http://127.0.0.1:8080

Start mysql
- brew install mysql
- brew services start mysql

Create MySQL DATABASE
sqlx database create

sqlx migrate add create_user_table.sql
sqlx migrate add create_categories.sql

sqlx migrate run

MySQL Connection
+ mysql -uroot -p
+ use moneyflow;
+ show tables;

Add Cors (Cross-origin requests)


Try sign_up
curl -X POST http://localhost:8080/auth/sign-up -H "Content-Type: application/json" -d '{"email":"test@example.com","password":"password123","firstname":"John","lastname":"Doe"}'

Inserto into users
INSERT INTO `users` (`email`, `firstname`, `lastname`, `password`) VALUES ('jane@example.com', 'Jane', 'Doe', 'your_hashed_password');

Initialize watcher:
cargo watch -x run


DOCKER

docker build -t moneyflow:latest .

Make sure to create a local sqlx:
cargo sqlx prepare   

Please note that when building the docker image yourself, you'll have to make the following changes:

In main.rs when calling .bind():

Set the host to 0.0.0.0 instead of 127.0.0.1

Set the port to 80 instead of 8080

So, your .bind() call should look like this:

.bind(("0.0.0.0", 80))?


Here's the command to run the docker image (replace afaanbilal/moneyflow with the name of your image):

docker run --rm -it -p 8000:80 \
    -e DATABASE_URL=[DB URL] \
    -e JWT_SECRET=[RANDOM SECRET] \
    /moneyflow

Make sure to set the DATABASE_URL and JWT_SECRET environment variables.